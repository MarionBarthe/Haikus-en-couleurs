<!DOCTYPE html>
<html>
    <head>
        <title>Oulipo project</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="stylesheet" href="styles_oulipo.css">
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Indie+Flower&display=swap" rel="stylesheet">
        <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
    </head>

    <body>
        <button class="help-icon" type="button">
            <span class="material-symbols-outlined ">help</span>
        </button>
      
        <main>
            <div class="flex-container container">
                <p id="vers1" class="flex-item fade-in-text" onclick="stayOn('1')">Froid au milieu du chaud</p>
                <p id="vers2" class="flex-item fade-in-text" onclick="stayOn('2')">Il faudrait rentrer vite à la maison</p>
                <p id="vers3" class="flex-item fade-in-text" onclick="stayOn('3')">Mais je ne peux pas</p>
            
                <svg id="animCercle" class="pulse">  <!-- version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" -->
                    <circle id="Oval" cx="50%" cy="50%" r="100%"></circle>
                </svg>
            </div>
        </main>
    </body>

    <script>
        const nbVers=10;
        const vers1=["Froid au milieu du chaud","Lumières ondulantes sur fond noir",
        "Sur une photo un visage","Un éclair saisissant de colère",
        "Toute petite poigne de fer","Confort douillet de ma couette",
        "Des souffles légers et réguliers", " Ici, sur la montagne enneigée",
        "Dans la salle de sport","Sur la plage, des vagues"];
        const vers2=["Il faudrait rentrer vite à la maison","Il faudrait qu'arrête cette lente danse",
        "Il faudrait toujours qu'on se souvienne","Il faudrait gronder, retentir, éclater, se lâcher...",
        "Il faudrait passer à d'autres choses","Il faudrait bouger, sortir de mon lit",
        "Il faudrait être discret, ne réveiller personne","Il faudrait se réchauffer, il fait froid",
        "Il faudrait faire des efforts, se bouger","Il faudrait évacuer, mais hélas, pas aujourd'hui"];
        const vers3=["Mais je ne peux pas","Pourtant mes larmes coulent encore",
        "Hélas ma mémoire est brouillée","Qu'enfin la tempête passe",
        "Seulement la béatitude me fige","J'ai vraiment la flemme",
        "Je suis beaucoup trop maladroite", "Mais j'avance en t-shirt",
        "Mais Ring Fit est suffisant","L'argent des baigneurs est important"];
    

        var delayInMilliseconds = 3000; //1 second
        setTimeout(function() {
            var vers = document.getElementsByClassName("flex-item");
            for (let i = 0; i < vers.length; i++) {
                vers[i].classList.toggle("fade-in-text");
            }
        }, delayInMilliseconds);

       

        // function changeVers1(){
        //     document.getElementById("vers1").innerHTML ="Lumières ondulantes sur fond noir";
        // }

        function stayOn(numVers){
            animeCercle();
            if(numVers!='1'){changeVers('1');}
            if(numVers!='2'){changeVers('2');}
            if(numVers!='3'){changeVers('3');}
        }

        function changeVers(numVers){
            let vers = document.getElementById("vers"+numVers);
            vers.innerHTML = randomVers(numVers);
            vers.classList.toggle("fade-in-text");
            var delayInMilliseconds = 3000; //1 second
            setTimeout(function() {
                vers.classList.toggle("fade-in-text");

            }, delayInMilliseconds);

        }

        function randomVers(numVers){
            let rdm = Math.floor(Math.random() * nbVers); 
            switch(numVers){
                case '1': 
                    return vers1[rdm];
                case '2':
                    return vers2[rdm];
                case '3':
                    return vers3[rdm];
            }
        }

        function randomColor(){
            //const colors = ["#6283c2", "#77a3c3", "#96d1bc", "#b3d8c4", "#dc9db9"];
            const colors = ["#E573A5","#EFA2C5","#82A1DB","#6283C2","#ed6c58","#FFFFFF"];
            let rdm = Math.floor(Math.random() * colors.length); 
            return colors[rdm];
        }
        
        function animeCercle() {
            var elmt =  document.getElementById('Oval');
            var color = randomColor();
            elmt.style.fill = color;
            elmt.classList.toggle("animON");
            var delayInMilliseconds = 3000; //1 second
            setTimeout(function() {
                elmt.classList.toggle("animON");
                document.documentElement.style.background=color;

            }, delayInMilliseconds);

        }
    </script>

</html>
